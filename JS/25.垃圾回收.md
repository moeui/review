JavaScript中的内存管理

  ```js
    // 申请内存
    let obj = {}
    // 使用内存
    obj.name = 'lg'
    // 释放内存 js中没有释放api，我们这里就把它设置为null
    obj = null
  ```

垃圾回收（GC）：找出不再使用的变量，然后释放掉其占用的内存，这个过程不是实时的，因为开销比较大，垃圾回收器会按照固定的时间周期执行

- 引用计数

  是最初级的垃圾收集算法，简化的定义为“对象有没有被其他对象引用”，零引用被回收

  ```js
    function test(){
      var a = {} ; //a的引用次数为0
      var b = a ; //a的引用次数加1，为1
      var c =a; //a的引用次数再加1，为2
      var b ={}; //a的引用次数减1，为1
    }
  ```
  优点：引用计数为零时，发现垃圾立即回收；最大限度减少程序暂停；

  缺点： 无法回收循环引用的对象，引用计数算法考虑到它们互相都有至少一次引用，所以它们不会被回收。空间开销比较大
  
- 标记整理清除

  对象不能从根（window）上访问到

  ```js
    function test(){
      var a = 10 ; //被标记 ，进入环境
      var b = 20 ; //被标记 ，进入环境
    }
    test(); //执行完毕 之后 a、b又被标离开环境，被回收。
  ```